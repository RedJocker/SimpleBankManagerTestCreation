<h2>Description</h2>

<p>Let's implement some of the main features of the Bank application. In this stage, you'll implement viewing account balances and making transfers. After a successful login, users should be able to go to the <em>Transfer funds</em> screen, transfer money to the account, and check the current balance at the <em>View Balance</em> screen.</p>

<h2>Objectives</h2>

<ol>
    <li>Tests may pass the user balance as a <code>Double</code> to <code>MainActivity</code> through <code>intent.extras</code>. Retrieve that balance, using the <code>balance</code> key. In case no balance is passed, use <code>100.0</code> as the default value for balance;</li>
    <li>Add a fragment named <code>ViewBalanceFragment</code> to the navigation graph:
        <ul>
            <li>Add a <code>TextView</code> to <code>ViewBalanceFragment</code> with the id of <code>viewBalanceLabelTextView</code>, the text should be <code>Balance:</code></li>
            <li>Add a <code>TextView</code> to <code>ViewBalanceFragment</code> with the id of <code>viewBalanceAmountTextView</code>. This view will be used to show the account balance;</li>
            <li>On the design tab of <code>nav_graph</code>, make a connection from <code>UserMenuFragment</code> to <code>ViewBalanceFragment</code>. The generated code should contain the action with the ID of <code>action_userMenuFragment_to_viewBalanceFragment</code> and the destination <code>viewBalanceFragment</code>;</li>
            <li>After clicking on <code>userMenuViewBalanceButton</code>, display <code>ViewBalanceFragment</code>. On the <code>viewBalanceAmountTextView</code>, display the current text with the current balance state. Display the current balance with two decimal places and a <code>$</code> at the start: <code>$100.00</code>;</li>
            <li>When a user is at <code>ViewBalanceFragment</code>, a click on the <code>back</code> button should redirect users to <code>UserMenuFragment</code>;</li>
        </ul>
    </li>
    <li>Add a Fragment named <code>TransferFundsFragment</code> to the navigation graph:
        <ul>
            <li>On <code>nav_graph</code>, make a connection from <code>UserMenuFragment</code> to <code>TransferFundsFragment</code>. The generated code should have the action with the id of <code>action_userMenuFragment_to_transferFundsFragment</code> and the destination ID of <code>transferFundsFragment</code></li>
            <li>Add an <code>EditText</code> to <code>TransferFundsFragment</code> with the ID of <code>transferFundsAccountEditText</code>, a hint <code>Account number</code> and input type of <code>text</code>. This view will be used to input the account to transfer funds;</li>
            <li>Add an <code>EditText</code> to <code>TransferFundsFragment</code> with the ID of <code>transferFundsAmountEditText</code>, a hint <code>Enter amount</code> and input type of <code>numberDecimal</code>. This view will be used to input the funds to transfer;</li>
            <li>Add a <code>Button</code> to <code>TransferFundsFragment</code> with the ID of <code>transferFundsButton</code>. If clicked, first validate the input:
                <ul>
                    <li>Consider accounts valid only if they start with either <code>sa</code> or <code>ca</code> followed by four digits. <code>sa</code> stands for a savings account, and <code>ca</code> is for a checking account;</li>
                    <li>If the account input is not valid, set the <code>error</code> property of <code>transferFundsAccountEditText</code> to <code>"Invalid account number"</code>;</li>
                    <li>A valid amount is a number greater than zero;</li>
                    <li>If the amount is not valid, set the <code>error</code> property of <code>transferFundsAmountEditText</code> to <code>"Invalid amount"</code>;</li>
                    <li>If both inputs are not valid, set the <code>error</code> property for both <code>EditTexts</code>.</li>
                </ul>
                If both inputs are valid, try to carry out the transfer:

                <ul>
                    <li>If the amount on <code>transferFundsAmountEditText</code> is greater than the current balance, show the toast message <code>Not enough funds to transfer &lt;amount&gt;$</code> where <code>amount</code> is the amount on <code>transferFundsAmountEditText</code> with two decimals. Keep the current balance state and remain on <code>TransferFundsFragment</code>;</li>
                    <li>If the amount on <code>transferFundsAmountEditText</code> is less or equal to the current balance, show the toast message <code>Transferred &lt;amount&gt;$ to account &lt;account&gt;</code> where <code>amount</code> is the amount on <code>transferFundsAmountEditText</code> with two decimals, and <code>account</code> is the account on <code>transferFundsAccountEditText</code>. Debt the current balance with the given amount and automatically go back to <code>UserMenuFragment</code>;</li>
                    <li>To simplify, there is no need to credit any account. An actual application would have a backend managing account state and the app would just make network requests with transfer data without the need to manage the state itself, so this simplification makes sense</li>
                </ul>
            </li>
            <li>While at <code>TransferFundsFragment</code>, a click on the <code>back</code> button should redirect users to <code>UserMenuFragment</code>.</li>
        </ul>
    </li>
</ol>

<h2>Example<br>
    <img alt="Implemented features" height="600" name="simpleBankManager_stage3a.gif" src="https://ucarecdn.com/f3dbeff7-e323-446c-b7c8-303aab876236/" width="340"><br>
    <br>
    <br>
    <img alt="Successful transfer" height="600" name="simpleBankManager_stage3b.gif" src="https://ucarecdn.com/e09b0ed1-2b3c-48c7-9279-eb9e0ee0f7fb/" width="340"><br>
    <br>
    <br>
    <img alt="Transfer errors" height="600" name="simpleBankManager_stage3c.gif" src="https://ucarecdn.com/5c67c6e3-e232-488e-a34e-8888ef5d9831/" width="340"></h2>